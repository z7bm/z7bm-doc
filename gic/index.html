<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Interrupt Controller - Zynq-7000 Baremetal</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../extra.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Interrupt Controller";
        var mkdocs_page_input_path = "gic.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
 <link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }</style> <script src="../assets/javascripts/glightbox.min.js"></script></head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Zynq-7000 Baremetal
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">General</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Purpose</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../impl/">Implementation</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Software</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../loader/">Loader</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../app/">Application Program</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../debug/">Debug</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Hardware</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Interrupt Controller</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#_2">–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#gic">GIC</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#_3">–°—Ç—Ä—É–∫—Ç—É—Ä–∞</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#distributor">Distributor</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#cpu-interfaces">CPU Interfaces</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_4">–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#_5">–§—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#_6">–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_7">–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_8">–û–±—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#_9">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π "–ø–æ —É—Ä–æ–≤–Ω—é"</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../mmu/">Memory Management Unit</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Libraries</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../mmr-headers/">MMR Headers</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../peripheral-lib/">Peripheral</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Target Boards</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../zed/">ZedBoard</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../ax7021/">AX7021</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Zynq-7000 Baremetal</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Hardware</li>
      <li class="breadcrumb-item active">Interrupt Controller</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="_1">–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π<a class="headerlink" href="#_1" title="Permanent link">üîó</a></h1>
<h2 id="_2">–û–±—â–∏–µ —Å–≤–µ–¥–µ–Ω–∏—è<a class="headerlink" href="#_2" title="Permanent link">üîó</a></h2>
<p>–°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –°–Ω–ö <strong>Zynq7000</strong> —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ <em>ARM Legacy Interrupt Scheme</em> (–º–æ–π —Ç–µ—Ä–º–∏–Ω), –∞ –∏–º–µ–Ω–Ω–æ: —É —è–¥–µ—Ä –µ—Å—Ç—å –¥–≤–∞ —Å–∏–≥–Ω–∞–ª–∞&nbsp;‚Äì "–ø–∏–Ω–∞": <code>nIRQ</code> –∏ <code>nFIQ</code>, –ø—Ä–∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–∏ —É—Ä–æ–≤–Ω—è (–Ω–∏–∑–∫–æ–≥–æ) —è–¥—Ä–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∏—Å–∫–ª—é—á–µ–Ω–∏—è. </p>
<p>–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –°–Ω–ö —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ&nbsp;‚Äì –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä–æ–µ:</p>
<ul>
<li>–∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –≤—Å–µ—Ö –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤;</li>
<li>–≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å —è–¥—Ä—É (—è–¥—Ä–∞–º –≤ —Å–ª—É—á–∞–µ –º–Ω–æ–≥–æ—è–¥–µ—Ä–Ω–æ–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã);</li>
<li>–æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–ª—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π —è–¥—Ä–æ –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –∏–º–∏.</li>
</ul>
<p>–í —Å–ª—É—á–∞–µ <em>Cortex-A</em> –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏—è <em>ARM</em> –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç <em>Generic Interrupt Controller</em> (GIC), –≤ –°–Ω–ö <strong>Zynq7000</strong> –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω GIC v1.0 (PL390).</p>
<h2 id="gic">GIC<a class="headerlink" href="#gic" title="Permanent link">üîó</a></h2>
<h3 id="_3">–°—Ç—Ä—É–∫—Ç—É—Ä–∞<a class="headerlink" href="#_3" title="Permanent link">üîó</a></h3>
<p>–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π SoC <strong>Zynq-7000</strong> –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ <em>UG-585 Zynq 7000 SoC Technical Reference Manual, Chapter 7 Interrupts</em>.</p>
<p>GIC —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö —á–∞—Å—Ç–µ–π:</p>
<ul>
<li>Distributor.</li>
<li>CPU Interfaces.</li>
</ul>
<p>–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –Ω–∞–±–æ—Ä–∞ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤, –æ—Ç–æ–±—Ä–∞–∂—ë–Ω–Ω—ã—Ö –Ω–∞ –ø–∞–º—è—Ç—å (MMR). –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω–æ —Ä–µ–≥–∏—Å—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è GIC –æ—Ç–Ω–µ—Å–µ–Ω—ã –∫ –º–æ–¥—É–ª—é <code>MPCORE</code>.</p>
<p>–§–∏–∑–∏—á–µ—Å–∫–∏ GIC –≤ <strong>Zynq7000</strong> —Å–æ–µ–¥–∏–Ω—ë–Ω —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é —à–∏–Ω—É, —á—Ç–æ–±—ã –∑–∞–¥–µ—Ä–∂–∫–∏ –Ω–∞ –æ–±—â–µ–π —à–∏–Ω–µ –Ω–µ –≤–ª–∏—è–ª–∏ –Ω–∞ –¥–∏–Ω–∞–º–∏–∫—É —Ä–∞–±–æ—Ç—ã –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π. –°–∞–º GIC —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä—É–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ <code>CPU_3x2x</code>, —Ç.–µ. –Ω–∞ —Ç–∞–∫—Ç–æ–≤–æ–π —á–∞—Å—Ç–æ—Ç–µ –¥–æ–º–µ–Ω–∞ L2.</p>
<h4 id="distributor">Distributor<a class="headerlink" href="#distributor" title="Permanent link">üîó</a></h4>
<p>Distributor&nbsp;‚Äì —ç—Ç–æ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π –∞–≥—Ä–µ–≥–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –æ—Ç –≤—Å–µ—Ö –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –°–Ω–ö –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π. –°—é–¥–∞ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ/–∑–∞–ø—Ä–µ—â–µ–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–∏–ø–æ–≤ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (–ø–æ —É—Ä–æ–≤–Ω—é –∏–ª–∏ –ø–æ –ø–µ—Ä–µ–ø–∞–¥—É) –∏ —Ü–µ–ª–µ–≤—ã—Ö —è–¥–µ—Ä.</p>
<p>–†–µ–≥–∏—Å—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–º —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –º–æ–¥—É–ª—è <code>MPCORE</code> —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º <code>0x1000</code>.</p>
<h4 id="cpu-interfaces">CPU Interfaces<a class="headerlink" href="#cpu-interfaces" title="Permanent link">üîó</a></h4>
<p>–ú–æ–¥—É–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –≤ –æ–±—â–µ–º —Å–ª—É—á–∞–µ —è–≤–ª—è–µ—Ç—Å—è –º–Ω–æ–≥–æ–∫–∞–Ω–∞–ª—å–Ω—ã–º (–ø–æ —á–∏—Å–ª—É —è–¥–µ—Ä –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞). –ï–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ&nbsp;‚Äì –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–≥ –≤—ã–∑–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è. </p>
<p>–ü–æ—Å–∫–æ–ª—å–∫—É –°–Ω–ö Zynq7000 —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤—É—Ö—è–¥–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, —Ç–æ –∏ –º–æ–¥—É–ª—å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ —Ç–æ–∂–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö —á–∞—Å—Ç–µ–π. –ö–∞–∂–¥–æ–µ —è–¥—Ä–æ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ "–≤–∏–¥–∏—Ç" —Ç–æ–ª—å–∫–æ —Å–≤–æ—é —á–∞—Å—Ç—å –º–æ–¥—É–ª—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.</p>
<p>–†–µ–≥–∏—Å—Ç—Ä—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞ –º–æ–¥—É–ª—è <code>MPCORE</code> —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º <code>0x100</code>.</p>
<h3 id="_4">–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π<a class="headerlink" href="#_4" title="Permanent link">üîó</a></h3>
<p>–°—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç—Ä–∏ –≥—Ä—É–ø–ø—ã –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π:</p>
<ol>
<li><em>Software Generated Interrupts</em> (SGI). –ú–æ–∂–µ—Ç –±—ã—Ç—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ –¥–æ 16 –ø—Ä–æ–≥—Ä–∞–º–º–Ω—ã—Ö –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π. –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –ø—É—Ç—ë–º –∑–∞–ø–∏—Å–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–≥–∏—Å—Ç—Ä –≤ –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–µ.</li>
<li><em>Private Peripheral Interrupts</em> (PPI). –≠—Ç–∞ –≥—Ä—É–ø–ø–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç–Ω–æ–π –ø–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—é –∫–∞–∂–¥–æ–º—É —è–¥—Ä—É, —Ç.–∫. –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ —ç—Ç–∏—Ö –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π —è–≤–ª—è—é—Ç—Å—è –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —è–¥—Ä–∞ - —Ç–∞–π–º–µ—Ä—ã –∏ –∫–∞–Ω–∞–ª—ã <code>nIRQ/nFIQ</code>.</li>
<li><em>Shared Peripheral Interrupts</em> (SPI). –°–∞–º–∞—è –º–Ω–æ–≥–æ—á–∏—Å–ª–µ–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞, –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –æ—Ç –≤—Å–µ—Ö –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã–π —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∫–∞–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω–æ–π —á–∞—Å—Ç–∏ –°–Ω–ö, —Ç–∞–∫ –∏ —Å–∏–≥–Ω–∞–ª—ã –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –æ—Ç FPGA.</li>
</ol>
<p>–û–¥–Ω–æ –∏–∑ –≤–∞–∂–Ω—ã—Ö –æ—Ç–ª–∏—á–∏–π –º–µ–∂–¥—É —ç—Ç–∏–º–∏ –≥—Ä—É–ø–ø–∞–º–∏ –∑–∞–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ç–æ–º, –∫–∞–∫ –¥–ª—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ü–µ–ª–µ–≤–æ–µ —è–¥—Ä–æ. </p>
<p>–î–ª—è –≥—Ä—É–ø–ø—ã <code>PPI</code> –Ω–∏—á–µ–≥–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ –Ω–∞–¥–æ - —ç—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –¥–ª—è —è–¥—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (—Ç–∞–π–º–µ—Ä—ã —è–¥—Ä–∞, –ø—Ä—è–º—ã–µ –∫–∞–Ω–∞–ª—ã <code>nIRQ/nFIQ</code>). </p>
<p>–î–ª—è <code>SPI</code> —Ü–µ–ª–µ–≤–æ–µ —è–¥—Ä–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö <code>ICDIPTRn</code> (Interrupt Controller Distributor Interrupt Target Register). –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ö <code>ICDICFRn</code> (Interrupt Controller Distributor Interrupt Configuration Register) –µ—Å—Ç—å —Ñ–ª–∞–≥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –ø–æ –∫–∞–∫–æ–π —Å—Ö–µ–º–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ (<code>1-N</code>&nbsp;‚Äì —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —è–¥—Ä–æ, –∏–ª–∏ <code>N-N</code>&nbsp;‚Äì –≤—Å–µ —è–¥—Ä–∞), –Ω–æ –ø–æ–ª—è, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ <code>SPI</code>, –Ω–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–º–µ–Ω–∏—Ç—å —ç—Ç–æ—Ç –±–∏—Ç, —Ç.–µ. –∂—ë—Å—Ç–∫–æ –≤—ã–±—Ä–∞–Ω–∞ —Å—Ö–µ–º–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É —è–¥—Ä—É. –í —ç—Ç–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –º–µ–Ω—è—Ç—å —Ç–∏–ø —Å–∏–≥–Ω–∞–ª–∞ - –ø–æ —É—Ä–æ–≤–Ω—é –∏–ª–∏ –ø–æ –ø–µ—Ä–µ–ø–∞–¥—É.</p>
<p>–î–ª—è <code>SGI</code> —Å–∏—Ç—É–∞—Ü–∏—è –µ—â—ë –±–æ–ª–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è: —ç—Ç–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –∂—ë—Å—Ç–∫–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–æ —Å—Ö–µ–º–µ <code>N-N</code> (–≤—Å–µ —è–¥—Ä–∞) –∏ —Ç–∏–ø —Å–∏–≥–Ω–∞–ª–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (—Ç–æ–ª—å–∫–æ –ø–æ –ø–µ—Ä–µ–ø–∞–¥—É) –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω—ë–Ω. –í –æ–±—â–µ–º, —ç—Ç–æ –ª–æ–≥–∏—á–Ω–æ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ: –ø–æ –ø–µ—Ä–µ–ø–∞–¥—É&nbsp;‚Äì —Å–æ–±—ã—Ç–∏–µ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ–¥–Ω–æ–º–æ–º–µ–Ω—Ç–Ω–æ–µ, –≤—ã–ø–æ–ª–Ω—è–µ–º–æ–µ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º—ã, —Ç.–µ. –æ–Ω–æ (—Å–æ–±—ã—Ç–∏–µ) –Ω–µ –º–æ–∂–µ—Ç —É–¥–µ—Ä–∂–∏–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª "–ø–æ —É—Ä–æ–≤–Ω—é". –ê –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–¥–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª –≤—Å–µ–º —è–¥—Ä–∞–º –æ–±—É—Å–ª–æ–≤–ª–µ–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å—é –æ–±–µ—Å–ø–µ—á–∏—Ç—å –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–º–µ–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –º–µ–∂–¥—É —è–¥—Ä–∞–º–∏.</p>
<h3 id="_5">–§—É–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ<a class="headerlink" href="#_5" title="Permanent link">üîó</a></h3>
<p>–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Ä–µ—à–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –ø–ª–∞—Ç–∞ <em>ZedBoard</em>.</p>
<h4 id="_6">–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è<a class="headerlink" href="#_6" title="Permanent link">üîó</a></h4>
<p>–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è –ø—É—Ç—ë–º –∑–∞–ø–∏—Å–∏ –≤ —Ä–µ–≥–∏—Å—Ç—Ä <code>ICDSGIR</code> (Interrupt Controller Distributor Software Generated Interrupts Register). –ü—Ä–∏ —ç—Ç–æ–º —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ü–µ–ª–µ–≤–æ–µ —è–¥—Ä–æ (–∏–ª–∏ —Å–ø–∏—Å–æ–∫ —è–¥–µ—Ä) –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è. –ù–∞–ø—Ä–∏–º–µ—Ä<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>:</p>
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">INLINE</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">wrpa</span><span class="p">(</span><span class="kt">uintptr_t</span><span class="w"> </span><span class="n">addr</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">data</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="o">*</span><span class="p">(</span><span class="w"> </span><span class="k">reinterpret_cast</span><span class="o">&lt;</span><span class="k">volatile</span><span class="w"> </span><span class="kt">uint32_t</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">addr</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">data</span><span class="p">;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="p">}</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">...</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">wrpa</span><span class="p">(</span><span class="w"> </span><span class="n">GIC_ICDSGIR</span><span class="p">,</span><span class="w">                                  </span><span class="c1">// 0b10: send the interrupt on only to the CPU</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">      </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">GIC_ICDSGIR_TARGET_LIST_FILTER_BPOS</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="c1">// interface that requested the interrupt     </span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">      </span><span class="n">PS7IRQ_ID_SW7</span><span class="p">);</span><span class="w">                               </span><span class="c1">// rise software interrupt ID7                                                                                                             </span>
</span></code></pre></div>
<p>–í —ç—Ç–æ–º –ø—Ä–∏–º–µ—Ä–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å ID 7, —Ü–µ–ª–µ–≤–æ–µ —è–¥—Ä–æ - —Ç–æ –∂–µ —Å–∞–º–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ. –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª—É—á–µ–Ω:</p>
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">wrpa</span><span class="p">(</span><span class="w"> </span><span class="n">GIC_ICDSGIR</span><span class="p">,</span><span class="w">                                  </span><span class="c1">// 0b10: send the interrupt on only to the CPU </span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">      </span><span class="p">(</span><span class="mi">0</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">GIC_ICDSGIR_TARGET_LIST_FILTER_BPOS</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="c1">// interface that requested the interrupt      </span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">      </span><span class="p">(</span><span class="mh">0x01</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">GIC_ICDSGIR_CPU_TARGET_LIST_BPOS</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">  </span><span class="c1">//                                             </span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">      </span><span class="n">PS7IRQ_ID_SW7</span><span class="p">);</span><span class="w">                               </span><span class="c1">// rise software interrupt ID7</span>
</span></code></pre></div>
<p>–û—Ç–ª–∏—á–∏–µ —Ç—É—Ç –≤ —Ç–æ–º, —á—Ç–æ –≤—ã–±–æ—Ä —Ü–µ–ª–µ–≤—ã—Ö —è–¥–µ—Ä –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –ø–æ —Å–ø–∏—Å–∫—É (—Å–º. –æ–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ <code>ICDSGIR</code>). –í –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —É–∫–∞–∑–∞–Ω–æ —è–¥—Ä–æ 0. –ï—Å–ª–∏ –±—ã, —Å–∫–∞–∂–µ–º, –Ω—É–∂–Ω–æ –±—ã–ª–æ —É–∫–∞–∑–∞—Ç—å —è–¥—Ä–æ 1, —Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ <code>0x01</code> –≤ <code>(0x01 &lt;&lt; GIC_ICDSGIR_CPU_TARGET_LIST_BPOS)</code> —Å–ª–µ–¥–æ–≤–∞–ª–æ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ <code>0x02</code>, –∞ –µ—Å–ª–∏ –æ–±–æ–∏–º —è–¥—Ä–∞–º, —Ç–æ&nbsp;‚Äì <code>0x03</code>. –ò–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –∫–∞–∂–¥–æ–º—É —è–¥—Ä—É —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –±–∏—Ç –≤ —Å–ø–∏—Å–∫–µ (–≤—Å–µ–≥–æ —Ç–∞–º 8 –±–∏—Ç, —Ç.–µ. GIC –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–æ 8 —è–¥–µ—Ä).</p>
<h4 id="_7">–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤<a class="headerlink" href="#_7" title="Permanent link">üîó</a></h4>
<h5 id="gpio">GPIO<a class="headerlink" href="#gpio" title="Permanent link">üîó</a></h5>
<p>–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –æ—Ç –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–æ –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –≤–Ω–µ—à–Ω–µ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –≤—ã–≤–æ–¥–∞ <code>GPIO</code>&nbsp;‚Äì –∏–∑ <code>MIO</code> —á–∞—Å—Ç–∏. –î–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –≤—ã–≤–æ–¥–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã –º–æ–¥—É–ª—è <code>GPIO</code> –∏ <code>GIC</code>.</p>
<p><code>GPIO</code>:
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">PIN_INT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="p">;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span><span class="c1">//-----------------------------------------------</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="c1">// set up GPIO interrupt</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span><span class="n">gpio_clr_int_sts</span><span class="p">(</span><span class="n">PIN_INT</span><span class="p">);</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="n">gpio_int_pol</span><span class="p">(</span><span class="n">PIN_INT</span><span class="p">,</span><span class="w"> </span><span class="n">GPIO_INT_POL_HIGH_RISE</span><span class="p">);</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="n">gpio_int_en</span><span class="p">(</span><span class="n">PIN_INT</span><span class="p">);</span>
</span></code></pre></div></p>
<p>–ü–µ—Ä–≤–æ–µ, —á—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å, —ç—Ç–æ —Å–±—Ä–æ—Å–∏—Ç—å –±–∏—Ç —Å—Ç–∞—Ç—É—Å–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –≤—ã–≤–æ–¥–∞ MIO. –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–ª–æ –ª–æ–∂–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ, —Ç.–∫. –ª—é–±–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –Ω–∞ –≤—ã–≤–æ–¥–µ –º–æ–∂–µ—Ç –≤–∑–≤–µ—Å—Ç–∏ —Ñ–ª–∞–≥ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —ç—Ç–æ–≥–æ –≤—ã–≤–æ–¥–∞ –≤ —Ä–µ–≥–∏—Å—Ç—Ä–µ —Å—Ç–∞—Ç—É—Å–∞ <code>GPIO</code>. –ò –µ—Å–ª–∏ –¥–∞–ª–µ–µ —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ, —Ç–æ –æ–Ω–æ —Å—Ä–∞–∑—É –±—É–¥–µ—Ç –æ—Å—É—â–µ—Å—Ç–≤–ª–µ–Ω–æ, —Ö–æ—Ç—è —Å–æ–±—ã—Ç–∏–µ –Ω–∞ –≤—ã–≤–æ–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –≤ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–¥–æ–ª–≥–æ –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏. –í—Ä—è–¥ –ª–∏ —Ç–∞–∫–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ&nbsp;‚Äì —ç—Ç–æ —Ç–æ, —á—Ç–æ —Ö–æ—Ç–µ–ª–æ—Å—å —Ç—É—Ç –ø–æ–ª—É—á–∏—Ç—å.</p>
<p>–î–∞–ª–µ–µ, –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ü–µ–ª–µ–≤–æ–µ —è–¥—Ä–æ, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∏–ø –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è&nbsp;‚Äì –ø–æ —É—Ä–æ–≤–Ω—é –∏–ª–∏ –ø–æ –ø–µ—Ä–µ–ø–∞–¥—É, —É–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è/–ø–µ—Ä–µ–ø–∞–¥–∞ (–Ω–∏–∑–∫–∏–π/–æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–ø–∞–¥ –∏–ª–∏ –≤—ã—Å–æ–∫–∏–π/–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–ø–∞–¥). –ò —Ä–∞–∑—Ä–µ—à–∏—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç <code>GPIO</code>.</p>
<p><code>GIC</code>:
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w">    </span><span class="n">gic_set_target</span><span class="p">(</span><span class="n">PS7IRQ_ID_GPIO</span><span class="p">,</span><span class="w"> </span><span class="mi">1ul</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">GIC_CPU0</span><span class="p">);</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">    </span><span class="n">gic_set_config</span><span class="p">(</span><span class="n">PS7IRQ_ID_GPIO</span><span class="p">,</span><span class="w"> </span><span class="n">GIC_EDGE_SINGLE</span><span class="p">);</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="n">gic_int_enable</span><span class="p">(</span><span class="n">PS7IRQ_ID_GPIO</span><span class="p">);</span>
</span></code></pre></div></p>
<p>–¢—É—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–ª–µ–≤–æ–≥–æ —è–¥—Ä–∞ - —è–¥—Ä–æ 0, –∑–∞—Ç–µ–º —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–∏–ø –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è - –ø—Ä–æ —Ñ—Ä–æ–Ω—Ç—É (SINGLE –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –æ–¥–Ω–æ–≥–æ —è–¥—Ä–∞, –∞ –∫–∞–∫ –±—ã–ª–æ —É–∫–∞–∑–∞–Ω–æ –≤—ã—à–µ, –¥–ª—è <code>SPI</code> –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ —è–¥—Ä–æ, –ø–æ—ç—Ç–æ–º—É —Ç—É—Ç –≤—ã–±–æ—Ä–∞ –Ω–µ—Ç). –ò –≤ –∑–∞–∫–ª—é—á–µ–Ω–∏–µ - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –æ—Ç –º–æ–¥—É–ª—è <code>GPIO</code>.</p>
<p>ISR:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">gpio_isr_handler</span><span class="p">()</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="n">gpio_clr_int_sts</span><span class="p">(</span><span class="n">PIN_INT</span><span class="p">);</span><span class="w">    </span><span class="c1">// clear GPIO interrupt flag</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="p">}</span>
</span></code></pre></div>
<h5 id="triple-timercounter">Triple Timer/Counter<a class="headerlink" href="#triple-timercounter" title="Permanent link">üîó</a></h5>
<p>–ü–æ–∫–∞–∑–∞–Ω –ø—Ä–∏–º–µ—Ä <strong>TTC</strong> –≤ —Ä–µ–∂–∏–º–µ –∏–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞: –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∑–∞–¥–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª. –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:</p>
<ul>
<li>–∏—Å—Ç–æ—á–Ω–∏–∫ —Ç–∞–∫—Ç–æ–≤–æ–π —á–∞—Å—Ç–æ—Ç—ã&nbsp;‚Äì –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π, 100 –ú–ì—Ü;</li>
<li>–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π&nbsp;‚Äì 1 –º—Å.</li>
</ul>
<p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w">    </span><span class="c1">// ISR: must be defined</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="n">ps7_register_isr</span><span class="p">(</span><span class="o">&amp;</span><span class="n">ttc0_0_isr</span><span class="p">,</span><span class="w"> </span><span class="n">PS7IRQ_ID_TTC0_0</span><span class="p">);</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="c1">// GIC</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">    </span><span class="n">gic_set_priority</span><span class="p">(</span><span class="n">PS7IRQ_ID_TTC0_0</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">);</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="n">gic_set_target</span><span class="p">(</span><span class="n">PS7IRQ_ID_TTC0_0</span><span class="p">,</span><span class="w"> </span><span class="n">GIC_CPU0</span><span class="p">);</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="n">gic_int_enable</span><span class="p">(</span><span class="n">PS7IRQ_ID_TTC0_0</span><span class="p">);</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="c1">// TTC0_0</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="n">wrpa</span><span class="p">(</span><span class="n">TTC_CLK_CTRL1_REG0</span><span class="p">,</span><span class="w"> </span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">       </span><span class="p">(</span><span class="mi">2</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">TTC_CLK_CTRL1_PS_V_BPOS</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w">      </span><span class="c1">// set prescaler to 2^(2+1): 100MHz/8 = 12.5MHz</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">       </span><span class="p">(</span><span class="mi">1</span><span class="w">  </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">TTC_CLK_CTRL1_PS_EN_BPOS</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">   </span><span class="c1">// enable prescaler</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">    </span><span class="n">wrpa</span><span class="p">(</span><span class="n">TTC_INTERVAL_CNT1_REG0</span><span class="p">,</span><span class="w"> </span><span class="mi">12500</span><span class="p">);</span><span class="w">                           </span><span class="c1">// 12.5MHz/12500 = 1kHz</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">    </span><span class="n">wrpa</span><span class="p">(</span><span class="n">TTC_INT_EN1_REG0</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1</span><span class="p">);</span><span class="w">                                   </span><span class="c1">// enable interval interrupts</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">    </span><span class="n">sbpa</span><span class="p">(</span><span class="n">TTC_CNT_CTRL1_REG0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">TTC_CNT_CTRL1_INT_BPOS</span><span class="p">);</span><span class="w">         </span><span class="c1">// turn on interval mode</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">    </span><span class="n">cbpa</span><span class="p">(</span><span class="n">TTC_CNT_CTRL1_REG0</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">TTC_CNT_CTRL1_DIS_BPOS</span><span class="p">);</span><span class="w">         </span><span class="c1">// enable TTC0</span>
</span></code></pre></div>
<p>ISR:</p>
<div class="language-cpp highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">ttc0_0_isr</span><span class="p">()</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="p">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="n">rdpa</span><span class="p">(</span><span class="n">TTC_INT1_REG0</span><span class="p">);</span><span class="w">     </span><span class="c1">// clear TTC0_0 interrupt flag</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">    </span><span class="p">...</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="_8">–û–±—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è<a class="headerlink" href="#_8" title="Permanent link">üîó</a></h4>
<p>–ü–æ—Å–ª–µ –≤—Å–µ—Ö –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω—ã—Ö –≤—ã—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞:</p>
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="w">    </span><span class="n">set_bits_pa</span><span class="p">(</span><span class="n">GIC_ICDDCR</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1</span><span class="p">);</span><span class="w"> </span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">set_bits_pa</span><span class="p">(</span><span class="n">GIC_ICCICR</span><span class="p">,</span><span class="w"> </span><span class="mh">0x1</span><span class="p">);</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="n">enable_interrupts</span><span class="p">();</span>
</span></code></pre></div>
<p>–ö–æ–¥ <code>0x1</code> —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—é Secure Interrupts (–ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ Secure State). –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –∏ –¥–ª—è Non-Secure –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (–∫–æ–¥ <code>0x3</code>), –Ω–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –Ω–∏ –Ω–∞ —á—Ç–æ –Ω–µ –ø–æ–≤–ª–∏—è–µ—Ç, —Ç.–∫. Non-Secure –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≤ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–µ—Ç.</p>
<h4 id="_9">–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π "–ø–æ —É—Ä–æ–≤–Ω—é"<a class="headerlink" href="#_9" title="Permanent link">üîó</a></h4>
<p>–ï—Å–ª–∏ —Ç–∏–ø —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ —Ç–æ–≥–æ –∏–ª–∏ –∏–Ω–æ–≥–æ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ "–ø–æ —É—Ä–æ–≤–Ω—é" (–∞ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≥—Ä—É–ø–ø—ã <code>SPI</code> —ç—Ç–æ —Ç–∏–ø –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø—Ä–æ—è–≤–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å.</p>
<p>–ü—Ä–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –≤—ã–≤–æ–¥–∞ –±—ã–ª –æ–±–Ω–∞—Ä—É–∂–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç: –ø—Ä–∏ –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É (–∫–æ—Ç–æ—Ä–∞—è –ø–æ–¥–∞—ë—Ç —Å–∏–≥–Ω–∞–ª –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –Ω–∞ –≤–Ω–µ—à–Ω–∏–π –≤—ã–≤–æ–¥ –°–Ω–ö) –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤—Ö–æ–¥–∏—Ç –≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –¥–≤–∞–∂–¥—ã. –î—Ä–µ–±–µ–∑–≥ –∫–Ω–æ–ø–∫–∏ —Ç—É—Ç –Ω–∏ –ø—Ä–∏ —á—ë–º, —Ç.–∫. –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ö–æ–¥–∞ –≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ—Ä—è–¥–∫–∞ 300-400 –Ω—Å.</p>
<p>–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —ç—Ç–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–æ–∫–∞–∑–∞–ª–æ, —á—Ç–æ –ø—Ä–∏ –≤—Ç–æ—Ä–æ–º –≤—Ö–æ–¥–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (—Ç–æ, —á—Ç–æ —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞ <code>ICCIAR</code>) —Ä–∞–≤–Ω–æ <code>0x3ff</code>, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É –∫–æ–¥—É-–∑–Ω–∞—á–µ–Ω–∏—é —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ–º–æ–≥–æ <em>spurious interrupt</em>&nbsp;‚Äì –ª–æ–∂–Ω–æ–º—É –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—é. –õ–æ–∂–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –∫–æ–≥–¥–∞ <code>GIC</code> –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–ª –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–µ—Ö–æ–¥–∞ –∑–∞–Ω–∏–º–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–æ–µ –≤—Ä–µ–º—è (—Å–æ—Ç–Ω–∏ –Ω—Å), —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –º–æ–≥–ª–æ –∏–∑–º–µ–Ω–∏—Ç—å—Å—è - –æ–Ω–æ –±—ã–ª–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ, –æ—Ç–º–µ–Ω–µ–Ω–æ, –µ–≥–æ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª–æ –¥—Ä—É–≥–æ–µ —è–¥—Ä–æ (—Ö–æ—Ç—è —ç—Ç–æ –Ω–µ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ, —Ç.–∫. –≤ <strong>Zynq7000</strong> –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã <code>SPI</code> –º–æ–≥—É—Ç –±—ã—Ç—å –∞–¥—Ä–µ—Å–æ–≤–∞–Ω—ã —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–º—É —è–¥—Ä—É). –¢.–µ. –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤—Ö–æ–¥–∏—Ç –≤ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ IRQ (–ø–æ—Ç–æ–º—É —á—Ç–æ –µ–≥–æ "–¥—ë—Ä–Ω—É–ª–∏" –∑–∞ –ø–∏–Ω <code>nIRQ</code>), —Å—á–∏—Ç—ã–≤–∞–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –∞ –≥–æ—Ç–æ–≤—ã—Ö –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –Ω–µ—Ç.</p>
<p>–í —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â–µ–µ: –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –º–æ–¥—É–ª—å <code>GPIO</code> –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤ <code>GIC</code>, —Ç–æ—Ç –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å –ø–µ—Ä–µ–≤–æ–¥–∏—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–π —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è <code>ID</code> –∏—Å—Ç–æ—á–Ω–∏–∫–∞ - –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ–Ω–æ —Ä–∞–≤–Ω–æ <code>52</code> (–ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –æ—Ç <code>GPIO</code>), –ø–æ—Å–ª–µ —á–µ–≥–æ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∞–¥—Ä–µ—Å —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –æ—Ç <code>GPIO</code>, –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏. –ï—ë –∫–æ–¥:</p>
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kt">void</span><span class="w"> </span><span class="nf">gpio_isr_handler</span><span class="p">()</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="p">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="n">gpio_clr_int_sts</span><span class="p">(</span><span class="n">PIN_INT</span><span class="p">);</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">}</span>
</span></code></pre></div>
<p>–ó–¥–µ—Å—å –ø—Ä–æ—Å—Ç–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Ñ–ª–∞–≥ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –≤—ã–≤–æ–¥–∞ (–∫–Ω–æ–ø–∫–∏), –∫–æ—Ç–æ—Ä—ã–π –ø–æ —Å—É—Ç–∏ —è–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –¥–ª—è <code>GIC</code>.</p>
<p>–î–∞–ª–µ–µ, –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –≥–¥–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç <code>ID</code> –≤ —Ä–µ–≥–∏—Å—Ç—Ä <code>ICCEOIR</code>, –ø–µ—Ä–µ–≤–æ–¥—è —ç—Ç–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π) –≤ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–µ. </p>
<p>–í —Å–∏–ª—É —Ç–æ–≥–æ, —á—Ç–æ –º–æ–¥—É–ª—å <code>GPIO</code> –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ —É—Ä–æ–≤–Ω–µ–º L3 —Ç.–µ. –æ–±—Ä–∞—â–µ–Ω–∏–µ –∫ –µ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞–º –ø—Ä–æ—Ö–æ–¥–∏—Ç –¥–ª–∏–Ω–Ω—ã–π –ø—É—Ç—å (<code>MMU</code>-&gt;<code>AXI</code> Bus-&gt;<code>Central Interconnect</code>-&gt;<code>AXI - APB</code> Bridge) —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –≤ –±–æ–ª–µ–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ —Ç–∞–∫—Ç–æ–≤—ã–µ –¥–æ–º–µ–Ω—ã, —Å–±—Ä–æ—Å —Ñ–ª–∞–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –∑–∞–Ω–∏–º–∞–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è. –ü–æ–º–∏–º–æ —ç—Ç–æ–≥–æ –µ—â—ë –µ—Å—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –æ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –±–∏—Ç–∞-—Ñ–ª–∞–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤ –º–æ–¥—É–ª–µ <code>GPIO</code> –¥–æ –ª–æ–≥–∏–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π.</p>
<p>–í —Ç–æ –∂–µ –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –≤ —Ç–µ—Å—Ç–æ–≤–æ–º –ø—Ä–∏–º–µ—Ä–µ –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ–π - –≤ –Ω—ë–º –Ω–µ—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –ø–æ–ª–µ–∑–Ω–æ–≥–æ –ø—Ä–∏–∫–ª–∞–¥–Ω–æ–≥–æ –∫–æ–¥–∞, —Ç.–µ. –≤—ã—Ö–æ–¥ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É –∂–µ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã —Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π (–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–µ –∂–¥—ë—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏, —Ç.–∫. –æ–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ MMRs –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –ø–æ–º–µ—á–µ–Ω–∞ –∫–∞–∫ <em>Device</em> - –∑–∞–ø—Ä–æ—Å –Ω–∞ –∑–∞–ø–∏—Å—å –±—É—Ñ–µ—Ä–∏–∑—É–µ—Ç—Å—è). –í–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–∏—Ç—É–∞—Ü–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π, –∫–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä —É–∂–µ —É—Å–ø–µ–≤–∞–µ—Ç –≤—ã–π—Ç–∏ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –∞ —Ñ–ª–∞–≥ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –µ—â—ë –Ω–µ —Å–±—Ä–æ—à–µ–Ω –∏–ª–∏ —É–∂–µ —Å–±—Ä–æ—à–µ–Ω –≤ –º–æ–¥—É–ª–µ <code>GPIO</code>, –Ω–æ —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –µ—â—ë –Ω–µ —É—Å–ø–µ–ª–æ –¥–æ–π—Ç–∏ –¥–æ <code>GIC</code> - –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –±—É–¥—É—á–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –Ω–∞ —Å–∏–≥–Ω–∞–ª –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è "–ø–æ —É—Ä–æ–≤–Ω—é" —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ —ç—Ç–æ—Ç —Ñ–ª–∞–≥ –∏ –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç —Å–Ω–æ–≤–∞ –∑–∞–ø—Ä–æ—Å —è–¥—Ä—É. </p>
<p>–Ø–¥—Ä–æ –æ–ø—è—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å –∑–∞–Ω–∏–º–∞–µ—Ç –∑–∞–º–µ—Ç–Ω—ã–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏, –∑–Ω–∞—á–µ–Ω–∏–µ —Å–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ —Ñ–ª–∞–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –º–æ–¥—É–ª—è <code>GPIO</code> –Ω–∞–∫–æ–Ω–µ—Ü –¥–æ—Ö–æ–¥–∏—Ç –¥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π, –∏ —Ç–æ—Ç —Å–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ. –ö–æ–≥–¥–∞ —è–¥—Ä–æ —á–∏—Ç–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä <code>ICCIAR</code>, –æ–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ <code>0x3ff</code>, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –ª–æ–∂–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ. –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –ø–æ —Å—É—Ç–∏ –∏ —è–≤–ª—è–µ—Ç—Å—è –ª–æ–∂–Ω—ã–º.</p>
<p>–í –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —ç—Ç–æ–≥–æ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –±—ã–ª –ø—Ä–æ–≤–µ–¥—ë–Ω —Ä—è–¥ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤. –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–æ–ø–∞–¥–∞–µ—Ç, –µ—Å–ª–∏ –≤ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã —Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤–Ω–µ—Å—Ç–∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∑–∞–¥–µ—Ä–∂–∫—É, –æ—á–µ–≤–∏–¥–Ω–æ, –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∫ –º–æ–º–µ–Ω—Ç—É –≤—ã—Ö–æ–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π —É—Å–ø–µ–ª "—É–≤–∏–¥–µ—Ç—å" —Å–±—Ä–æ—à–µ–Ω–Ω—ã–π —Ñ–ª–∞–≥ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω–æ–≥–æ –º–æ–¥—É–ª—è (<code>GPIO</code> –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ).</p>
<p>–û—á–µ–≤–∏–¥–Ω–æ, —á—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ (–ª–æ–∂–Ω—ã–π –≤—Ö–æ–¥ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è) –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∂–µ–ª–∞–µ–º—ã–º, –ø–æ—ç—Ç–æ–º—É –Ω—É–∂–Ω–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –µ–≥–æ. –î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã:</p>
<ul>
<li>–ü–æ–º–µ—Å—Ç–∏—Ç—å –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã —Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ –∫–æ–¥, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ –∑–∞–ø—Ä–æ—Å–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –æ—Ç —è–¥—Ä–∞ –¥–æ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω–æ–≥–æ –º–æ–¥—É–ª—è –∏ –æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –¥–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π. –≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± —Å–∞–º—ã–π –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π, –Ω–æ –∑–∞–¥–µ—Ä–∂–∫—É —Ç—Ä—É–¥–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –∏ —Ç–µ–º —Å–∞–º—ã–º –æ–±–µ—Å–ø–µ—á–∏—Ç—å –≥–∞—Ä–∞–Ω—Ç–∏—é.</li>
<li>–í—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã —Å–±—Ä–æ—Å–∞ —Ñ–ª–∞–≥–∞ –∫–æ–º–∞–Ω–¥—É —á—Ç–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è, –≥–¥–µ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è —ç—Ç–æ—Ç —Ñ–ª–∞–≥. –ü—Ä–∏ —ç—Ç–æ–º –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∏–∑-–∑–∞ –¥–ª–∏–Ω–Ω–æ–≥–æ –ø—É—Ç–∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–æ–≤ –æ—Ç –ø–µ—Ä–∏—Ñ–µ—Ä–∏–∏ –¥–æ —è–¥—Ä–∞. –ù–æ —ç—Ç–∞ –∑–∞–¥–µ—Ä–∂–∫–∞ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–∞–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–º—ã –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.</li>
<li>–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ç–∏–ø —Å–∏–≥–Ω–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è –≤ <code>GIC</code> –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ "–ø–æ –ø–µ—Ä–µ–ø–∞–¥—É". –ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –≤–∞—Ä–∏–∞–Ω—Ç –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –≤—ã—à–µ: –≤—ã—Ä–∞–∂–µ–Ω–∏–µ <code>gic_set_config(PS7IRQ_ID_GPIO, GIC_EDGE_SINGLE);</code>. –≠—Ç–æ—Ç —Å–ø–æ—Å–æ–± –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ª–æ–∂–Ω–æ–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤ <code>GIC</code>, —Ç.–∫. –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–ª–∞–≥ –∑–∞–ø—Ä–æ—Å–∞ –≤—Å—ë –µ—â—ë —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω–æ–º –º–æ–¥—É–ª–µ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏–∑ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –Ω–µ "–≤–∏–¥–∏—Ç" –≤ —ç—Ç–æ–º –∑–∞–ø—Ä–æ—Å–∞, —Ç.–∫. –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–ª—è <code>GIC</code> - —ç—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è —ç—Ç–æ–≥–æ —Ñ–ª–∞–≥–∞ —Å –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–µ. –ê —ç—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —É–¥–∞—ë—Ç—Å—è –¥–æ—Å—Ç–∏—á—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã.</li>
</ul>
<p>–°–ª–µ–¥—É–µ—Ç –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ—á—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π –∏–∑ –≥—Ä—É–ø–ø—ã <code>SPI</code> —è–≤–ª—è–µ—Ç—Å—è "–ø–æ —É—Ä–æ–≤–Ω—é", –ø–æ—ç—Ç–æ–º—É —ç—Ç–æ—Ç —ç—Ñ—Ñ–µ–∫—Ç –º–æ–∂–µ—Ç –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è —Å –ª—é–±—ã–º –¥—Ä—É–≥–∏–º –ø–µ—Ä–∏—Ñ–µ—Ä–∏–π–Ω—ã–º –º–æ–¥—É–ª–µ–º. –ù—É–∂–Ω–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ —Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫–∞–∂–¥–æ–º —Å–ª—É—á–∞–µ –∏ –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É "–ø–æ –ø–µ—Ä–µ–ø–∞–¥—É", –µ—Å–ª–∏ –æ–Ω–∞ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p><code>wrpa</code> &nbsp;‚Äì "write to phisical address", –∑–∞–ø–∏—Å—å –ø–æ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º—É –∞–¥—Ä–µ—Å—É.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../debug/" class="btn btn-neutral float-left" title="Debug"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../mmu/" class="btn btn-neutral float-right" title="Memory Management Unit">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../debug/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../mmu/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/wavedrom.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/wavedrom/2.6.8/skins/default.js"></script>
      <script src="../js/wavedrom_loader.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/wavedrom@2.1.2/wavedrom.unpkg.js"></script>
      <script src="https://wavedrom.com/skins/default.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
</script></body>
</html>
